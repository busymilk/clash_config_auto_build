
# Clash é€šç”¨é…ç½®æ¨¡æ¿
#clash æµç¨‹å›¾ï¼šhttps://wiki.metacubex.one/config/dns/diagram/#_3


mixed-port: 7890
ipv6: true
allow-lan: true
unified-delay: true
tcp-concurrent: true
external-controller: 127.0.0.1:9090
# external-ui ç”¨äºæŒ‡å®š Clash çš„ç½‘é¡µæ§åˆ¶é¢æ¿
external-ui: ui
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"

# è¿›ç¨‹åŒ¹é…æ¨¡å¼ (ä»…é€‚ç”¨äº macOS/Linux)
find-process-mode: strict

# å…¨å±€ TLS æŒ‡çº¹ï¼Œç”¨äºæ¨¡ä»¿ç‰¹å®šå®¢æˆ·ç«¯çš„ TLS æ¡æ‰‹åŒ…
global-client-fingerprint: firefox

profile:
  store-selected: false # ä¸è®°å½•æ‰‹åŠ¨é€‰æ‹©çš„ä»£ç†ï¼Œä»£ç†èŠ‚ç‚¹ç»å¸¸å¤±æ•ˆï¼Œæ²¡è®°å½•çš„å¿…è¦
  store-fake-ip: true # è®°å½• fake-ip çš„æ˜ å°„å…³ç³»

sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    - "Mijia Cloud"
    - "+.push.apple.com"

tun:
  enable: false
  stack: gvisor
  dns-hijack:
    - "any:53"
    - "tcp://any:53"
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true

ntp:
  enable: true
  write-to-system: false
  server: time.apple.com
  port: 123
  interval: 30

dns:
#æ­£ç¡®åˆ†æµï¼šhttps://www.aloxaf.com/2025/04/how_to_use_geosite/

  #mihomoå‘é€ç»™ä»£ç†èŠ‚ç‚¹çš„æ˜¯åŸŸåè€Œä¸æ˜¯ipåœ°å€ï¼Œæœ¬åœ°è§£æç»“æœä»…ç”¨äºåˆ†æµåˆ¤æ–­
  #GEOIP è§„åˆ™ç”¨äºæ ¹æ®æ•°æ®åŒ…çš„ç›®æ ‡ IP åœ°å€çš„å›½å®¶ä»£ç è·¯ç”±æ•°æ®åŒ…ï¼Œæ³¨æ„ï¼Œæ˜¯ç›®æ ‡IPï¼
  #ä¹Ÿå°±æ˜¯dnsè¿™ä¸€å¨é…ç½®ï¼Œå¤§éƒ¨åˆ†æ˜¯ç”¨äºåˆ†æµçš„ï¼Œæ‰€ä»¥è¦é¿å…æœ¬åœ°dnsçš„æ±¡æŸ“ç»“æœï¼Œé€ æˆæ ¹æ®ipè¿›è¡Œåˆ†æµçš„é”™è¯¯ï¼Œæœ¬åœ°dnsè§£æä¸€æ¬¡ï¼Œåˆ†æµåï¼ŒåŒ¹é…èµ°ä»£ç†çš„è¯·æ±‚ï¼Œç»è¿‡ä»£ç†å†è¿›è¡Œä¸€æ¬¡dnsè¯·æ±‚
  enable: true
  ipv6: true
  use-system-hosts: false

  default-nameserver: #é»˜è®¤ DNS, ç”¨äºè§£æ DNS æœåŠ¡å™¨ çš„åŸŸå å¿…é¡»ä¸º IP
  - https://[2001:4860:4860::64]/dns-query
  - 94.140.14.141
  - udp://[2a10:50c0::1:ff]
  - udp://[2a10:50c0::2:ff]
  - 149.112.112.9
  - 149.112.112.112
  - udp://[2620:fe::fe]
  - udp://[2620:fe::9]

  #è¿™é‡Œç”¨ä¸åˆ°proxy-server-nameserveräº†ï¼Œgithub actionè„šæœ¬é‡Œå†™äº†ï¼Œä¼šè§£æå¥½åŸŸåçš„ipåæ›¿æ¢èŠ‚ç‚¹ä¸ºç›´æ¥çš„ipï¼Œæ²¡æœ‰è§£æè¿™ä¸€æ­¥äº†
  #proxy-server-nameserver: #ä»£ç†èŠ‚ç‚¹åŸŸåè§£ææœåŠ¡å™¨ï¼Œä»…ç”¨äºè§£æä»£ç†èŠ‚ç‚¹çš„åŸŸåï¼ˆéœ€è¦ç¡®ä¿dnsæ— æ±¡æŸ“ï¼Œå¦åˆ™æ²¡æ³•è¿æ¥ä»£ç†æœåŠ¡å™¨å•Šï¼‰,å¦‚æœä¸å¡«åˆ™éµå¾ª nameserver-policyã€nameserver å’Œ fallback çš„é…ç½®
  #- 'https://223.5.5.5/dns-query#proxy&ecs=39.134.187.0/24&ecs-override=true'

  direct-nameserver-follow-policy: false #æ˜¯å¦éµå¾ª nameserver-policyï¼Œé»˜è®¤ä¸ºä¸éµå®ˆï¼Œä»…å½“ direct-nameserver ä¸ä¸ºç©ºæ—¶ç”Ÿæ•ˆ
  direct-nameserver: #ç”¨äº direct ç›´è¿å‡ºå£åŸŸåè§£æçš„ DNS æœåŠ¡å™¨ï¼Œå¦‚æœä¸å¡«åˆ™éµå¾ª nameserver-policyã€nameserver å’Œ fallback çš„é…ç½®
  - https://1.12.12.12/dns-query
  - https://223.5.5.5/dns-query


  #nameserver åœ¨fakeripæ¨¡å¼ä¸‹çš„æ ¸å¿ƒä½œç”¨ï¼Œå·²ç»ä»â€œè·å–IPåœ°å€â€è½¬å˜æˆäº†â€œéªŒè¯åŸŸåçš„å­˜åœ¨æ€§â€
  #å­˜åœ¨äº†ï¼Œè¿›è¡Œè§„åˆ™åŒ¹é…ï¼Œå¦åˆ™æ²¡å¿…è¦è§„åˆ™åŒ¹é…èµ°åç»­çš„æµç¨‹ï¼Œè¿™é‡Œä¹‹æ‰€ä»¥ä¸é€‰å›½å†…çš„dnsï¼Œä¸æ˜¯æ€•è¿”å›é”™è¯¯çš„ipï¼Œå³ä½¿è¿”å›é”™è¯¯çš„ipä¹Ÿä¼šè§¦å‘åç»­çš„æµç¨‹è§„åˆ™ï¼Œç›´è¿çš„èµ°direct-nameserverè§£æï¼Œä»£ç†çš„ç›´æ¥è®©ä»£ç†èŠ‚ç‚¹è¿›è¡Œè§£æï¼Œæœ¬åœ°ä¸è¿›è¡Œæ“æ§
  #ç¬¬ä¸€æ˜¯æ€•è¿”å›æ— æ­¤åŸŸåï¼Œç¬¬äºŒæ˜¯é˜²æ­¢è¢«è®°å½•äº†ã€‚
  #å¸¸è§çš„ä»£ç†åè®®éƒ½æ”¯æŒè¿œç«¯è§£æã€‚
  #è§„åˆ™ä¸ºipç±»å‹çš„ï¼Œä¹Ÿä¼šè§¦å‘nameserverï¼Œå› ä¸ºåŸŸåå¿…é¡»è§£æäº†æ‰èƒ½çŸ¥é“ipæ˜¯å¦åŒ¹é…ï¼Œç„¶åæ‰èƒ½æ ¹æ®è§„åˆ™åˆ¤æ–­èµ°ç›´è¿è¿˜æ˜¯ä»£ç†
  nameserver: #é»˜è®¤çš„åŸŸåè§£ææœåŠ¡å™¨
  - 'https://[2001:4860:4860::64]/dns-query#proxy&ecs=39.134.187.0/24&ecs-override=true'
  - 'tls://1dot1dot1dot1.cloudflare-dns.com#proxy&ecs=39.134.187.0/24&ecs-override=true'
  - 'tls://unfiltered.adguard-dns.com#proxy&ecs=39.134.187.0/24&ecs-override=true'
  - 'tls://dns.mullvad.net#proxy&ecs=39.134.187.0/24&ecs-override=true'
  - 'https://dns.nextdns.io/dns-query#proxy&ecs=39.134.187.0/24&ecs-override=true'

#fake-ip æ¨¡å¼ä¸‹ï¼ŒClash ä¼šå°†åŸå§‹çš„åŸŸåï¼ˆhostnameï¼‰å‘é€åˆ°é¢„å…ˆé…ç½®çš„è¿œç«¯DNS æœåŠ¡å™¨è¿›è¡Œè§£æ
#å¯¹fake-ip-filterä¸­æ¡ç›®çš„æŸ¥è¯¢è¡Œä¸ºä¼šå›é€€åˆ°redir-hostï¼Œå³åœ¨æœ¬åœ°å‘èµ·DNSæŸ¥è¯¢ï¼Œå¹¶è¿”å›çœŸå®IPç»“æœ
  enhanced-mode: fake-ip
  fake-ip-filter-mode: blacklist #blacklist æ¨¡å¼åªè¦æ²¡å‘½ä¸­fake-ip-filter,éƒ½ä¼šç»™fake ip
  fake-ip-filter: #fakeip è¿‡æ»¤ï¼Œä»¥ä¸‹åœ°å€ä¸ä¼šä¸‹å‘ fakeip æ˜ å°„ç”¨äºè¿æ¥
  - +.tvkuai.com
  - 'RULE-SET,other_ssk_lan_non_ip'
  - 'RULE-SET,geosite_private_domains'
  - 'RULE-SET,geosite_connectivity_check'
  fake-ip-range: 198.18.0.1/16

# ä»£ç†ç»„é…ç½®
proxy-groups:
  - name: âœˆï¸ é€‰æ‹©ä»£ç†
    type: select
    proxies:
      - âš¡ï¸ è‡ªåŠ¨ä¼˜é€‰
      - âš–ï¸ è´Ÿè½½å‡è¡¡-åŒä¸€urlåŒä¸€èŠ‚ç‚¹
      - âš–ï¸ è´Ÿè½½å‡è¡¡-åŒä¸€urlä¸åŒèŠ‚ç‚¹
      - ğŸ‘† æ‰‹åŠ¨é€‰æ‹©

  - name: âš¡ï¸ è‡ªåŠ¨ä¼˜é€‰
    type: url-test # é€šè¿‡ URL æµ‹è¯•é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„èŠ‚ç‚¹
    tolerance: 10 # å»¶è¿Ÿå®¹å¿å€¼ï¼ˆmsï¼‰ï¼Œå½“æœ€ä¼˜èŠ‚ç‚¹å»¶è¿Ÿä¸æ–°èŠ‚ç‚¹å·®å¼‚å°äºæ­¤å€¼æ—¶ä¸åˆ‡æ¢
    include-all-proxies: true # åŒ…å«æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œæµ‹è¯•
    include-all: true
    url: "https://cp.cloudflare.com/generate_204" 
    expected-status: 204 # æœŸæœ›è·å¾— 204 çŠ¶æ€ç ï¼Œç¡®ä¿æµ‹è¯•çš„å‡†ç¡®æ€§ï¼Œé¿å…è¢«åŠ«æŒ
    interval: 120 # å¥åº·æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
    timeout: 3000 # å¥åº·æ£€æŸ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
    max-failed-times: 2 # æœ€å¤§å¤±è´¥æ¬¡æ•°
    lazy: true # æ‡’åŠ è½½ï¼Œå¯åŠ¨æ—¶ä¸è¿›è¡Œæµ‹è¯•

  - name: âš–ï¸ è´Ÿè½½å‡è¡¡-åŒä¸€urlåŒä¸€èŠ‚ç‚¹
    type: load-balance # å®ç°æµé‡çš„è´Ÿè½½å‡è¡¡
    strategy: consistent-hashing # è½®è¯¢ç­–ç•¥ï¼Œç¡®ä¿åŒä¸€ç›®æ ‡åœ°å€ä½¿ç”¨åŒä¸€èŠ‚ç‚¹
    include-all-proxies: true
    include-all: true
    url: "https://cp.cloudflare.com/generate_204"
    expected-status: 204
    interval: 120
    timeout: 3000
    max-failed-times: 2
    lazy: true

  - name: âš–ï¸ è´Ÿè½½å‡è¡¡-åŒä¸€urlä¸åŒèŠ‚ç‚¹
    type: load-balance # å®ç°æµé‡çš„è´Ÿè½½å‡è¡¡
    strategy: round-robin # è½®è¯¢ç­–ç•¥ï¼Œå°†ä¼šæŠŠæ‰€æœ‰çš„è¯·æ±‚åˆ†é…ç»™ç­–ç•¥ç»„å†…ä¸åŒçš„ä»£ç†èŠ‚ç‚¹
    include-all-proxies: true
    include-all: true
    url: "https://cp.cloudflare.com/generate_204"
    expected-status: 204
    interval: 120
    timeout: 3000
    max-failed-times: 2
    lazy: true

  - name: ğŸ‘† æ‰‹åŠ¨é€‰æ‹©
    type: select # æ‰‹åŠ¨é€‰æ‹©èŠ‚ç‚¹
    include-all-proxies: true
    include-all: true
    url: "https://cp.cloudflare.com/generate_204"
    expected-status: 204
    interval: 120
    timeout: 3000
    max-failed-times: 2
    lazy: true

  - name: GoogleApi #æ²¡åŠæ³•ï¼Œå¥½å¤šä»£ç†å¯ä»¥è®¿é—®googleï¼Œä½†æ˜¯googleapisè®¿é—®ä¸äº†ã€‚ã€‚ã€‚
    type: url-test # é€šè¿‡ URL æµ‹è¯•é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„èŠ‚ç‚¹
    tolerance: 10 # å»¶è¿Ÿå®¹å¿å€¼ï¼ˆmsï¼‰ï¼Œå½“æœ€ä¼˜èŠ‚ç‚¹å»¶è¿Ÿä¸æ–°èŠ‚ç‚¹å·®å¼‚å°äºæ­¤å€¼æ—¶ä¸åˆ‡æ¢
    include-all-proxies: true # åŒ…å«æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œæµ‹è¯•
    include-all: true
    url: "https://www.google.com/generate_204" # gstaticæ˜¯è®¿é—®cdnçš„ï¼Œè¿™ä¸ªé“¾æ¥æ˜¯ç”¨æ¥è®¿é—®ä¸»ç«™çš„ã€‚
    expected-status: 204 #
    interval: 120 # å¥åº·æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
    timeout: 3000 # å¥åº·æ£€æŸ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
    max-failed-times: 2 # æœ€å¤§å¤±è´¥æ¬¡æ•°
    lazy: true # æ‡’åŠ è½½ï¼Œå¯åŠ¨æ—¶ä¸è¿›è¡Œæµ‹è¯•

  - name: Telegram #æ²¡åŠæ³•ï¼Œå¥½å¤šä»£ç†å¯ä»¥è®¿é—®googleï¼Œä½†æ˜¯Telegramè®¿é—®ä¸äº†ã€‚ã€‚ã€‚
    type: url-test # é€šè¿‡ URL æµ‹è¯•é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„èŠ‚ç‚¹
    tolerance: 10 # å»¶è¿Ÿå®¹å¿å€¼ï¼ˆmsï¼‰ï¼Œå½“æœ€ä¼˜èŠ‚ç‚¹å»¶è¿Ÿä¸æ–°èŠ‚ç‚¹å·®å¼‚å°äºæ­¤å€¼æ—¶ä¸åˆ‡æ¢
    include-all-proxies: true # åŒ…å«æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œæµ‹è¯•
    include-all: true
    url: "https://api.telegram.org"
    expected-status: 302 # ä½ æ²¡çœ‹é”™ï¼Œç¡®å®æ˜¯302é‡å®šå‘ï¼Œèƒ½ç¡®è®¤å¯ä»¥è®¿é—®tgäº†
    interval: 120 # å¥åº·æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
    timeout: 3000 # å¥åº·æ£€æŸ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
    max-failed-times: 2 # æœ€å¤§å¤±è´¥æ¬¡æ•°
    lazy: true # æ‡’åŠ è½½ï¼Œå¯åŠ¨æ—¶ä¸è¿›è¡Œæµ‹è¯•

  - name: v2ex #æ²¡åŠæ³•ï¼Œå¥½å¤šä»£ç†å¯ä»¥è®¿é—®googleï¼Œä½†æ˜¯Telegramè®¿é—®ä¸äº†ã€‚ã€‚ã€‚
    type: url-test # é€šè¿‡ URL æµ‹è¯•é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„èŠ‚ç‚¹
    tolerance: 10 # å»¶è¿Ÿå®¹å¿å€¼ï¼ˆmsï¼‰ï¼Œå½“æœ€ä¼˜èŠ‚ç‚¹å»¶è¿Ÿä¸æ–°èŠ‚ç‚¹å·®å¼‚å°äºæ­¤å€¼æ—¶ä¸åˆ‡æ¢
    include-all-proxies: true # åŒ…å«æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œæµ‹è¯•
    include-all: true
    url: "https://www.v2ex.com/generate_204"
    expected-status: 204 
    interval: 120 # å¥åº·æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
    timeout: 3000 # å¥åº·æ£€æŸ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
    max-failed-times: 2 # æœ€å¤§å¤±è´¥æ¬¡æ•°
    lazy: true # æ‡’åŠ è½½ï¼Œå¯åŠ¨æ—¶ä¸è¿›è¡Œæµ‹è¯•

# è§„åˆ™é›†æä¾›è€… (Rule Providers)
rule-providers:
  # --- self è§„åˆ™é›† ---
  self_gemini_site:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/clash_config_auto_build@refs/heads/main/rules/gemini_rules.yaml"
    path: ./ruleset/self_gemini_site.rules
    interval: 86400

  # --- Loyalsoldier è§„åˆ™é›† ---
  loy_reject:
    type: http
    behavior: domain
    format: text
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/reject-list.txt"
    path: ./ruleset/loy_reject.rules
    interval: 86400
  loy_gfw:
    type: http
    behavior: domain
    format: text
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/gfw.txt"
    path: ./ruleset/loy_gfw.rules
    interval: 86400
    
  # --- GeoSite åŸŸåè§„åˆ™é›† ---
  geosite_@ads:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/collect_tag_ads.txt"
    path: ./ruleset/geosite_@ads.rules
    interval: 86400
  geosite_@cn_domains:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/collect_tag_cn.txt"
    path: ./ruleset/geosite_@cn_domains.rules
    interval: 86400
  geosite_@!cn_domains:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/collect_tag_!cn.txt"
    path: ./ruleset/geosite_@!cn_domains.rules
    interval: 86400
  geosite_private_domains:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/private.txt"
    path: ./ruleset/geosite_private_domains.rules
    interval: 86400
  geosite_bing:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/bing.txt"
    path: ./ruleset/geosite_bing.rules
    interval: 86400
  geosite_google:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/google.txt"
    path: ./ruleset/geosite_google.rules
    interval: 86400
  geosite_telegram:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/telegram.txt"
    path: ./ruleset/geosite_telegram.rules
    interval: 86400
  geosite_connectivity_check:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/connectivity-check.txt"
    path: ./ruleset/geosite_connectivity_check.rules
    interval: 86400
  geosite_cn:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/cn.txt"
    path: ./ruleset/geosite_cn.rules
    interval: 86400
  geosite_!cn:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/geolocation-!cn.txt"
    path: ./ruleset/geosite_!cn.rules
    interval: 86400

  geosite_apple:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/clash-rules-generated/apple.txt"
    path: ./ruleset/geosite_apple.rules
    interval: 86400

  # --- GeoIP IP è§„åˆ™é›† ---
  geoip_lan_ip:
    type: http
    behavior: ipcidr
    format: text
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/geoip-rules-generated/geoip_private.txt"
    path: ./ruleset/geoip_lan_ip.rules
    interval: 86400
  geoip_cn_ip:
    type: http
    behavior: ipcidr
    format: text
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/geoip-rules-generated/geoip_cn.txt"
    path: ./ruleset/geoip_cn_ip.rules
    interval: 86400

  geoip_telegram_ip:
    type: http
    behavior: ipcidr
    format: text
    url: "https://cdn.jsdelivr.net/gh/busymilk/v2fly-domain-list-community_rule_set@main/geoip-rules-generated/geoip_telegram.txt"
    path: ./ruleset/geoip_telegram.rules
    interval: 86400

  other_direct_applications:
    type: http
    behavior: classical # ç»å…¸æ¨¡å¼ï¼ŒåŒ¹é…åº”ç”¨è¿›ç¨‹å
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt"
    path: ./ruleset/other_direct_applications.yaml
    interval: 86400 # æ¯å¤©æ›´æ–°ä¸€æ¬¡

  other_ssk_lan_non_ip:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/lan.txt
    path: ./sukkaw_ruleset/ssk_lan_non_ip.txt

  other_ssk_lan_ip:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/ip/lan.txt
    path: ./sukkaw_ruleset/ssk_lan_ip.txt

  other_ssk_global_non_ip:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/global.txt
    path: ./sukkaw_ruleset/ssk_global_non_ip.txt

# è·¯ç”±è§„åˆ™ (Rules) #å‚è€ƒï¼šhttps://www.aloxaf.com/2025/04/how_to_use_geosite/ é‡è¦æ˜¯@cn å’Œ @!cn çš„ä½¿ç”¨ä»¥åŠå…ˆåé¡ºåº
rules:

  #---------------------------------------------------------
  #å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,loy_reject,REJECT
  - RULE-SET,geosite_@ads,REJECT
  #---------------------------------------------------------
  #è‡ªå·±å¢åŠ çš„è§„åˆ™
  - DOMAIN,time.apple.com,DIRECT
  - DOMAIN,cdn.jsdelivr.net,DIRECT
  - DOMAIN,a.ppconverter.eu.org,DIRECT
  - DOMAIN,clash.razord.top,DIRECT
  - DOMAIN,yacd.haishan.me,DIRECT
  - 'DOMAIN-SUFFIX,ghproxy.com,DIRECT'
  - 'DOMAIN-SUFFIX,facefusion.io,âœˆï¸ é€‰æ‹©ä»£ç†'
  - 'DOMAIN-SUFFIX,anaconda.com,âœˆï¸ é€‰æ‹©ä»£ç†'
  - 'DOMAIN-SUFFIX,modelscope.cn,DIRECT'
  - 'DOMAIN-SUFFIX,akfamily.xyz,DIRECT'
  - 'DOMAIN,shared.cdn.queniuqe.com,DIRECT'
  - 'DOMAIN-SUFFIX,1fichier.com,DIRECT'
  - 'PROCESS-NAME,Telegram,Telegram'
  - 'DOMAIN-SUFFIX,v2ex.com,v2ex'
  - 'DOMAIN-KEYWORD,alibaba-cn,DIRECT' #icloudä¼šä½¿ç”¨åˆ°è¿™ä¸ªalibaba-cn-pvg-00001.oss-enet.aliyuncs.com
 #---------------------------------------------------------
#ç›´è¿åº”ç”¨
  - RULE-SET,other_direct_applications,DIRECT
#---------------------------------------------------------
#å†…ç½‘åŸŸå
  - RULE-SET,other_ssk_lan_non_ip,DIRECT
  - RULE-SET,geosite_private_domains,DIRECT
#---------------------------------------------------------
#è¿é€šæ€§æµ‹è¯•
  - RULE-SET,geosite_connectivity_check,DIRECT
#---------------------------------------------------------
#ç‰¹å®šåŸŸå
  - RULE-SET,self_gemini_site,GoogleApi #Geminiç”¨
  - RULE-SET,geosite_apple,DIRECT
  - RULE-SET,geosite_bing,âœˆï¸ é€‰æ‹©ä»£ç†
  - RULE-SET,geosite_google,âœˆï¸ é€‰æ‹©ä»£ç†
  - RULE-SET,geosite_telegram,Telegram
#---------------------------------------------------------
#å›½å¤–åŸŸåè¡¥å……ï¼ˆè¢«å›½å†…dnsæ±¡æŸ“çš„,æˆ–è€…è¢«å¢™çš„ï¼‰â€”â€”ssk and gfw
  - RULE-SET,loy_gfw,âœˆï¸ é€‰æ‹©ä»£ç†
  - RULE-SET,other_ssk_global_non_ip,âœˆï¸ é€‰æ‹©ä»£ç†
  
#åŸç‰ˆgeolocation-!cnåŸŸåé›†åˆé‡Œæºæ‚çš„@cnå›½å†…åŸŸå
  - RULE-SET,geosite_@cn_domains,DIRECT
#å›½å¤–åŸŸå
  - RULE-SET,geosite_!cn,âœˆï¸ é€‰æ‹©ä»£ç†
  
#åŸç‰ˆgeolocation-cnåŸŸåé›†åˆé‡Œæºæ‚çš„@!cnéƒ¨åˆ†å›½å¤–åŸŸå
  - RULE-SET,geosite_@!cn_domains,âœˆï¸ é€‰æ‹©ä»£ç†
#å›½å†…åŸŸå
  - RULE-SET,geosite_cn,DIRECT  

#---------------------------------------------------------

#èµ°åˆ°ipè§„åˆ™è¿™é‡Œçš„ï¼Œéƒ½æ˜¯åŸŸåçš„æ¼ç½‘ä¹‹é±¼ï¼Œæˆ–è€…ç›´æ¥ipç±»å‹çš„è¯·æ±‚
#(,no-resolve)æ˜¯è·³è¿‡åŸŸåå¯¹ipçš„åŒ¹é…ï¼Œæ­£å¸¸æƒ…å†µä¸‹åŸŸåä¸ºäº†åŒ¹é…ipè§„åˆ™ï¼Œä¼šåœ¨æœ¬åœ°è¿›è¡Œdnsè§£æï¼ˆä¹Ÿå°±æ˜¯nameserverï¼‰ï¼Œè·å¾—äº†ipç„¶åç”¨è·å¾—çš„ipæ¥å¯¹ipè§„åˆ™è¿›è¡ŒåŒ¹é…
#å¦‚æœä½¿ç”¨no-resolveï¼Œåˆ™åŸŸåè¯·æ±‚èµ°åˆ°ipè§„åˆ™åŒ¹é…äº†ï¼Œå°±è·³è¿‡è¿™ä¸€æ¡è§„åˆ™ï¼Œèµ°ä¸‹ä¸€æ¡ã€‚
#ç›¸å½“äºä½¿ç”¨no-resolveçš„è§„åˆ™åªä¼šå¯¹ç›´æ¥ipç±»çš„è¯·æ±‚èµ·ä½œç”¨
#å†…ç½‘ip
  - RULE-SET,geoip_lan_ip,DIRECT,no-resolve
  - RULE-SET,other_ssk_lan_ip,DIRECT,no-resolve

#å›½å¤–ip
  - RULE-SET,geoip_telegram_ip,Telegram,no-resolve

#å›½å†…ip
  - RULE-SET,geoip_cn_ip,DIRECT,no-resolve
#---------------------------------------------------------
#å…œåº•è§„åˆ™ è¿™é‡Œä¸å†™no-resolveï¼Œæ˜¯é»˜è®¤ä¸Šé¢é‚£äº›è§„åˆ™é‡Œçš„åŸŸåéƒ½æ˜¯çœŸå®å­˜åœ¨çš„ï¼ˆå¯¹äºè‡ªå·±æ¥è¯´ï¼ŒåŸŸåä¸å­˜åœ¨çš„æƒ…å†µæ¯”è¾ƒå°ï¼Œè°ä¼šç»å¸¸è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„åŸŸåå‘¢ï¼‰
#æ¼åˆ°è¿™é‡Œçš„éƒ½æ˜¯æ²¡å‘½ä¸­çš„ï¼Œéœ€è¦nameserverè§£æåˆ¤æ–­ä¸‹æ˜¯å¦åŸŸåå­˜åœ¨ï¼ˆå¦‚æœæ˜¯åŸŸåçš„è¯ï¼‰
  - MATCH,âœˆï¸ é€‰æ‹©ä»£ç†
